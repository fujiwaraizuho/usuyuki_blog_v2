---
import { ghostClient } from '../lib/ghost';
import BlogLayout from '$layouts/BlogLayout.astro';

const post = await ghostClient.posts
        .browse({
            limit: 1,
        })
        .catch((err) => {
            console.error(err);
        });
        
if(!post){
return Astro.redirect('/404');
}
---
<!DOCTYPE html>
<html lang="ja">
    <head>
        <title>{post.title}</title>
    </head>
    <body>
        <img src={post.feature_image} alt={post.title} />

        <h1>{post.title}</h1>
        <p>{post.reading_time} 分くらいで読めます</p>

    <Fragment output:server set:html={post.html} />
    </body>
</html>
